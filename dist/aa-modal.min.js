!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(s){"use strict";let i,c="[aa-modal-close]",r=s("<style></style"),d="\nbody.aa-modal-open {\noverflow: hidden;\n}\n.aa-modal {\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100vw;\nheight: 100vh;\nbackground-color: rgba(0,0,0,.5);\ncursor: pointer;\nz-index: 999999;\n}\n.aa-modal__body {\nposition: absolute;\ntop: 50%;\nleft: 50%;\nwidth: calc(100vw - 40px);\nmax-width: 600px;\nheight: auto;\nmax-height: calc(100vh - 40px);\npadding: 55px 30px 45px;\nbackground-color: #fff;\nborder-radius: 5px;\ntransform: translate(-50%, -50%);\ncursor: default;\noverflow-y: auto;\nz-index: 1000000;\n}\n.aa-modal__close {\nposition: absolute;\ntop: 20px;\nright: 20px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nwidth: 20px;\nheight: 20px;\npadding: 0;\nbackground-color: transparent;\nborder: none;\ncursor: pointer;\n}\n.aa-modal__close path {\nfill: #000;\ntransition: fill .3s;\n}\n.aa-modal__close:focus {\noutline: none;\n}\n.aa-modal__close:hover path,\n.aa-modal__close:focus path {\nfill: rgba(0,0,0,.5);\n}\n";const o={0:"Reserved",1:"Method does not exist in AA Modal",2:"Wrong option data type",3:"Option is not a valid number",4:"Modal content source is not specified",5:"External button request failed",6:"External button file contains invalid data",7:"Modal content request failed"};let p={src:!1,id:!1,class:!1,closeBtnText:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 212.982 212.982" style="enable-background:new 0 0 212.982 212.982;" xml:space="preserve">\n<path fill="#000000" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312 c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312 l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937 c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z"/>\n</svg>',closeBtnExternal:!1,closeBtnSelector:!1,animation:"fadeIn",animationDuration:1e3,animationTimingFunction:"linear",onOpenStart:function(){},onOpenEnd:function(){},onCloseStart:function(){},onCloseEnd:function(){}},t={init:function(n){let l=s.extend(!0,{},p,n);var t,e=l;for(t in e){var o=typeof e[t];if(!1!==e[t])switch(t){case"onOpenStart":case"onOpenEnd":case"onCloseStart":case"onCloseEnd":"function"!=o&&u(2,t);break;case"animationDuration":"string"!=o&&"number"!=o&&u(2,t);var a=parseInt(e[t]);Number.isInteger(a)||u(3,t);break;default:"string"!=o&&u(2,t)}}return this.each(function(){s(this).on("click",l,function(n){var t=s(this),e=l,o=("function"==typeof p.onOpenStart&&e.onOpenStart(n,t),i=!0,function(n,t){let e=n.src||t.attr("aa-modal-src").toString(),o=c+", "+n.closeBtnSelector,a=s('<div class="aa-modal"></div>'),l=s('<div class="aa-modal__body"></div>'),i=s('<button class="aa-modal__close" type="button" aa-modal-close=""></button>');void 0===e&&u(4);n.closeBtnExternal?function(n,e,o){s.ajax({url:n,dataType:"html",contentType:!1,processData:!1,timeout:15e3,success:function(n){n=s(n).filter("svg");n.length?e.html(n):(e.html(o),u(6))},error:function(n,t){e.html(o),u(5,"timeout"==t?t:n.statusText)}})}(n.closeBtnExternal,i,p.closeBtnText):n.closeBtnText?i.html(n.closeBtnText):i.html(p.closeBtnText);n.closeBtnText&&l.append(i);n.id&&l.prop("id",n.id);n.class&&l.addClass(n.class);return function(n,t){s.ajax({url:n,dataType:"html",contentType:!1,processData:!1,timeout:15e3,success:function(n){t.append(n)},error:function(n,t){u(7,"timeout"==t?t:n.statusText)}})}(e,l),a.append(l),a.on("click",function(n){console.log(n.target),l.is(n.target)||0!==l.has(n.target).length||console.log("time to close")}),l.on("click",o,function(){console.log("time to close")}),a}(e,t)),a=(r.text(d),r);s("head").prepend(a),s("body").append(o).addClass("aa-modal-open"),"function"==typeof p.onOpenEnd&&e.onOpenEnd(n,t)})})},close:function(){console.log("close method called")}};function u(n,t=!1){let e=o[n];t&&(e+=": "+t),s.error(e)}s.fn.aamodal=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void u(1,n):t.init.apply(this,arguments)}});