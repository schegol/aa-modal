!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(s){"use strict";let l,r="[aa-modal-close]",c=s("<style></style"),d="\nbody.aa-modal-open {\noverflow: hidden;\n}\n.aa-modal {\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100vw;\nheight: 100vh;\nbackground-color: rgba(0,0,0,.5);\ncursor: pointer;\nz-index: 999999;\n}\n.aa-modal__body {\nposition: absolute;\ntop: 50%;\nleft: 50%;\nwidth: calc(100vw - 40px);\nmax-width: 600px;\nheight: auto;\nmax-height: calc(100vh - 40px);\npadding: 55px 30px 45px;\nbackground-color: #fff;\nborder-radius: 5px;\ntransform: translate(-50%, -50%);\ncursor: default;\noverflow-y: auto;\nz-index: 1000000;\n}\n.aa-modal__close {\nposition: absolute;\ntop: 20px;\nright: 20px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nwidth: 20px;\nheight: 20px;\npadding: 0;\nbackground-color: transparent;\nborder: none;\ncursor: pointer;\n}\n.aa-modal__close path {\nfill: #000;\ntransition: fill .3s;\n}\n.aa-modal__close:focus {\noutline: none;\n}\n.aa-modal__close:hover path,\n.aa-modal__close:focus path {\nfill: rgba(0,0,0,.5);\n}\n";const t={0:"Reserved",1:"Wrong option data type",2:"Option is not a valid number",3:"Modal content source is not specified"};let p={src:!1,id:!1,class:!1,closeBtnText:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 212.982 212.982" style="enable-background:new 0 0 212.982 212.982;" xml:space="preserve">\n<path fill="#000000" d="M131.804,106.491l75.936-75.936c6.99-6.99,6.99-18.323,0-25.312 c-6.99-6.99-18.322-6.99-25.312,0l-75.937,75.937L30.554,5.242c-6.99-6.99-18.322-6.99-25.312,0c-6.989,6.99-6.989,18.323,0,25.312 l75.937,75.936L5.242,182.427c-6.989,6.99-6.989,18.323,0,25.312c6.99,6.99,18.322,6.99,25.312,0l75.937-75.937l75.937,75.937 c6.989,6.99,18.322,6.99,25.312,0c6.99-6.99,6.99-18.322,0-25.312L131.804,106.491z"/>\n</svg>',closeBtnExternal:!1,closeBtnSelector:!1,animation:"fadeIn",animationDuration:1e3,animationTimingFunction:"linear",onOpenStart:function(){},onOpenEnd:function(){},onCloseStart:function(){},onCloseEnd:function(){}},o={init:function(n){let i=s.extend(!0,{},p,n);var o,e=i;for(o in e){var t=typeof e[o];if(!1!==e[o])switch(o){case"onOpenStart":case"onOpenEnd":case"onCloseStart":case"onCloseEnd":"function"!=t&&u(1,o);break;case"animationDuration":"string"!=t&&"number"!=t&&u(1,o);var a=parseInt(e[o]);Number.isInteger(a)||u(2,o);break;default:"string"!=t&&u(1,o)}}return this.each(function(){s(this).on("click",i,function(n){var o=s(this),e=i,t=("function"==typeof p.onOpenStart&&e.onOpenStart(n,o),l=!0,function(n,o){let e=n.src||o.attr("aa-modal-src").toString(),t=r+", "+n.closeBtnSelector,a=s('<div class="aa-modal"></div>'),i=s('<div class="aa-modal__body"></div>'),l=s('<button class="aa-modal__close" type="button" aa-modal-close=""></button>');void 0===e&&u(3);l.html(n.closeBtnText),n.closeBtnText&&i.append(l);n.id&&i.prop("id",n.id);n.class&&i.addClass(n.class);return function(n,o){s.ajax({url:n,dataType:"html",contentType:!1,processData:!1,timeout:15e3,success:function(n){o.append(n)},error:function(n,o){"timeout"==o?s.error("Request failed: timeout"):s.error("Request failed: "+n.responseText)}})}(e,i),a.append(i),a.on("click",function(n){console.log(n.target),i.is(n.target)||0!==i.has(n.target).length||console.log("time to close")}),i.on("click",t,function(){console.log("time to close")}),a}(e,o)),a=(c.text(d),c);s("head").prepend(a),s("body").append(t).addClass("aa-modal-open"),"function"==typeof p.onOpenEnd&&e.onOpenEnd(n,o)})})},close:function(){console.log("close method called")}};function u(n,o=!1){let e=t[n];o&&(e+=" ("+o+")"),s.error(e)}s.fn.aamodal=function(n){return o[n]?o[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void s.error("Method "+n+" does not exist in AA Modal"):o.init.apply(this,arguments)}});